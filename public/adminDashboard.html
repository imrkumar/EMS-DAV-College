<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    Admin Dashboard
  </title>
  <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="/node_modules/bootstrap-icons/font/bootstrap-icons.css" />
  <link rel="stylesheet" href="CSS/style.css">
  <script src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
  <link rel="icon" href="images/logo.png">
  <style>
    #container {
      display: flex;
      width: 450px;
      height: 100vh;
      justify-content: center;
      flex-direction: column;
      align-items: center;
    }

    form {
      border: 1px solid;
      padding: 20px;

    }

    #column {
      flex-direction: column;
    }

    .editbtn {

      display: inline-block;
      margin-left: 5px;

    }

    .delbtn {
      display: inline-block;

    }
  </style>
</head>

<body>
  <header>
    <nav class="nav-header">
      <div class="logo-container"> <a href="index.html"><img src="images/logo.png" class="main-logo"></a></div>
      <h1 class="long-heading"> DAV COLLEGE EVENT MANAGEMENT SYSTEM</h1>
      <h1 class="short-heading">DEMS</h1>
    </nav>

  </header>

  <div class="container-fluid">
    <div class="row">
      <div class="sidebar border border-right col-md-3 col-lg-2 p-0 bg-body-tertiary">
        <div class="offcanvas-md offcanvas-end bg-body-tertiary" tabindex="-1" id="sidebarMenu"
          aria-labelledby="sidebarMenuLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="sidebarMenuLabel">Company name</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#sidebarMenu"
              aria-label="Close"></button>
          </div>
          <div class="offcanvas-body d-md-flex flex-column p-0 pt-lg-3 overflow-y-auto">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link d-flex align-items-center gap-2 active" aria-current="page" href="index.html">

                  <span class="bi bi-house-fill"> HOME </span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link d-flex align-items-center gap-2" href="dept_login.html">

                  <span class="bi bi-door-open-fill"> DEPARTMENT LOGIN</span>
                </a>
              </li>

              <li class="nav-item">
                <a class="nav-link d-flex align-items-center gap-2" href="addDept-Admin.html">

                  <span class="bi bi-patch-plus-fill"> ADD DEPT-ADMIN</span>
                </a>
              </li>

            </ul>


            <hr class="my-3">

            <ul class="nav flex-column mb-auto">

              <li class="nav-item">
                <a class="nav-link d-flex align-items-center gap-2" href="#">

                  <span class="bi bi-door-closed-fill"> SIGN OUT</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">




        <h2 style="overflow-y: hidden; text-align: center; margin: 20px 0px;">ADMIN DASHBOARD</h2>
        <div class="table-responsive small">
          <table class="table table-striped table-sm">
            <thead>
              <tr>
                <th scope="col">DEPARTMENT</th>
                <th scope="col">USERNAME</th>
                <th scope="col">PASSWORD</th>
                <th scope="col">EMAIL</th>
                <th scope="col">EDIT/DELETE</th>
              </tr>
            </thead>
            <tbody id="tbody">

            </tbody>
          </table>
        </div>
      </main>
    </div>
  </div>
  <script>
    fetch("http://localhost:9090/admindashboard", {
      method: "get",

    }).then((res) => {
      return res.json()
    }).then((data) => {
      for (let record of data) {

        let tr = document.createElement("tr")
        tr.innerHTML =
          `
                <td>${record.department}</td>
                <td>${record.username}</td>
                <td>${record.password}</td>
                <td>${record.email}</td>
                <td> <span> <button class="editbtn btn btn-primary"><span class="bi bi-pencil-square"></span></button>
                <button class="btn btn-danger delbtn"><span class="bi bi-trash"></span></button></span></td>

      `
        document.getElementById("tbody").append(tr)
      }
    })
  </script>
</body>

</html>